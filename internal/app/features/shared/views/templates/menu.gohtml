{{/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Dynamic menu dispatcher â€“ choose a role-specific sub-template at runtime
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/}}
{{ define "menu" }}
  {{ if eq .Role "admin" }}
    {{ template "menu_admin" . }}
  {{ else if eq .Role "analyst" }}
    {{ template "menu_analyst" . }}
  {{ else if eq .Role "leader" }}
    {{ template "menu_leader" . }}
  {{ else if eq .Role "member" }}
    {{ template "menu_member" . }}
  {{ else }}
    {{ template "menu_visitor" . }}
  {{ end }}
{{ end }}

{{/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  Admin  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/}}
{{ define "menu_admin" }}
<div class="mb-6">
  <h1 class="text-xl font-bold text-indigo-600">Adroit Games</h1>
  {{ if .IsLoggedIn }}
    <div class="mt-2 text-gray-600 text-xs">
      <div class="font-semibold">{{ .UserName }}</div>
      <div>{{ .Role }}</div>
    </div>
  {{ end }}
</div>

<nav class="space-y-2 text-sm">
  <a class="block hover:text-indigo-600" href="/admin/dashboard">ğŸ›ï¸ Dashboard</a>
  <a class="block hover:text-indigo-600" href="/reports/members">ğŸ“ˆ Members Report</a>
  <a class="block hover:text-indigo-600" href="/admin/organizations">ğŸ¢ Organizations</a>
  <a class="block hover:text-indigo-600" href="/groups">ğŸ‘¥ Groups</a>
  <a class="block hover:text-indigo-600" href="/admin/leaders">ğŸ‘‘ Leaders</a>
  <a class="block hover:text-indigo-600" href="/members">â›¹ï¸ Members</a>
  <a class="block hover:text-indigo-600" href="/system_users">ğŸ§‘â€ğŸ’» System Users</a>
  <a class="block hover:text-indigo-600" href="/admin/resources">ğŸ“š Resources</a>
  {{ template "menu_common" . }}
</nav>
{{ end }}

{{/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  Analyst  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/}}
{{ define "menu_analyst" }}
<div class="mb-6">
  <h1 class="text-xl font-bold text-indigo-600">Adroit Games</h1>
  {{ if .IsLoggedIn }}
    <div class="mt-2 text-gray-600 text-xs">
      <div class="font-semibold">{{ .UserName }}</div>
      <div>{{ .Role }}</div>
    </div>
  {{ end }}
</div>

<nav class="space-y-2 text-sm">
  <a class="block hover:text-indigo-600" href="/analyst/dashboard">ğŸ›ï¸ Dashboard</a>
  <a class="block hover:text-indigo-600" href="/reports/members">ğŸ“ˆ Members Report</a>
  {{ template "menu_common" . }}
</nav>
{{ end }}

{{/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  Leader  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/}}
{{ define "menu_leader" }}
<div class="mb-6">
  <h1 class="text-xl font-bold text-indigo-600">Adroit Games</h1>
  {{ if .IsLoggedIn }}
    <div class="mt-2 text-gray-600 text-xs">
      <div class="font-semibold">{{ .UserName }}</div>
      <div>{{ .Role }}</div>
    </div>
  {{ end }}
</div>

<nav class="space-y-2 text-sm">
  <a class="block hover:text-indigo-600" href="/leader/dashboard">ğŸ›ï¸ Dashboard</a>

  <!-- Unified, role-aware Groups -->
  <a class="block hover:text-indigo-600" href="/groups">ğŸ‘¥ Groups</a>

  <a class="block hover:text-indigo-600" href="/members">â›¹ï¸ Members</a>

  {{ template "menu_common" . }}
</nav>
{{ end }}

{{/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  Member  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/}}
{{ define "menu_member" }}
<div class="mb-6">
  <h1 class="text-xl font-bold text-indigo-600">Adroit Games</h1>
  {{ if .IsLoggedIn }}
    <div class="mt-2 text-gray-600 text-xs">
      <div class="font-semibold">{{ .UserName }}</div>
      <div>{{ .Role }}</div>
    </div>
  {{ end }}
</div>

<nav class="space-y-2 text-sm">
  <a class="block hover:text-indigo-600" href="/member/dashboard">ğŸ›ï¸ Dashboard</a>
  <a class="block hover:text-indigo-600" href="/member/resources">ğŸ“š Resources</a>

  {{ template "menu_common" . }}
</nav>
{{ end }}

{{/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Visitor  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/}}
{{ define "menu_visitor" }}
<div class="mb-6">
  <h1 class="text-xl font-bold text-indigo-600">Adroit Games</h1>
</div>

<nav class="space-y-2 text-sm">
  {{ template "menu_common" . }}
</nav>
{{ end }}

{{/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Shared links  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/}}
{{ define "menu_common" }}
  <a class="block hover:text-indigo-600" href="/about">â„¹ï¸ About</a>
  <a class="block hover:text-indigo-600" href="/contact">ğŸ“§ Contact</a>
  <a class="block hover:text-indigo-600" href="/terms">ğŸ“œ Terms</a>

  {{ if .IsLoggedIn }}
    <a class="block text-red-500 hover:underline" href="/logout">ğŸšª Logout</a>
  {{ else }}
    <a class="block hover:text-indigo-600" href="/login">ğŸ” Login</a>
  {{ end }}
{{ end }}
